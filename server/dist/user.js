webpackJsonp([3],{225:function(module,exports,__webpack_require__){var Component=__webpack_require__(21)(null,__webpack_require__(260),null,null);module.exports=Component.exports},226:function(module,exports,__webpack_require__){var Component=__webpack_require__(21)(__webpack_require__(245),__webpack_require__(268),null,null);module.exports=Component.exports},245:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _crypto=__webpack_require__(92),_crypto2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_crypto);exports.default={name:"userList",data:function(){return{userColumn:[{title:"姓名",key:"userName"},{title:"注册手机号码",key:"userMobile"},{title:"角色",key:"userType"},{title:"创建时间",key:"createdAt"},{title:"操作",key:"action",render:function(h){return h("div",[h("Button",{props:{type:"text",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"修改"),h("Button",{props:{type:"text",size:"small"},on:{click:function(){}}},"拉黑")])}}],userList:[],showAdd:!1,userBasic:{data:{mobile:"",password:"",type:0},length:{maxMobile:11}}}},methods:{getUserList:function(){var _this=this;this.$Loading.start(),this.$ajax({method:"get",url:"/user/getUserList"}).then(function(res){0==res.data.code?_this.userList=res.data.data.list:_this.$Message.error(res.data.message),_this.$Loading.finish()}).catch(function(){_this.$Message.error("小Mo开小差去了，请稍后再试~"),_this.$Loading.error()})},confirmAdd:function(){var mobile=this.userBasic.data.mobile,type=this.userBasic.data.type,password=this.userBasic.data.password,_this=this;password=_crypto2.default.createHmac("sha1","azumar").update(password).digest().toString("base64"),this.$ajax({method:"post",url:"/user/addUser",data:{mobile:mobile,type:type,pwd:password}}).then(function(res){0==res.data.code?(_this.$Message.success(res.message),_this.getUserList()):_this.$Message.error(res.message)}).catch(function(){_this.$Message.error("小Mo开小差去了，请稍后再试~")})}},created:function(){this.getUserList()}}},260:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{staticClass:"moment-page"},[_c("router-view")],1)},staticRenderFns:[]}},268:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{attrs:{id:"userList"}},[_c("div",{staticClass:"page-header"},[_c("Button",{attrs:{type:"primary",size:"large",icon:"ios-plus-outline"},on:{click:function($event){_vm.showAdd=!0}}},[_vm._v("添加新用户")])],1),_vm._v(" "),_c("div",{staticClass:"page-table"},[_c("Table",{attrs:{border:"",columns:_vm.userColumn,data:_vm.userList}}),_vm._v(" "),_c("Page",{staticClass:"page-paging",attrs:{total:100}})],1),_vm._v(" "),_c("Modal",{attrs:{title:"添加新用户"},on:{"on-ok":_vm.confirmAdd},model:{value:_vm.showAdd,callback:function($$v){_vm.showAdd=$$v},expression:"showAdd"}},[_c("Form",{attrs:{model:_vm.formItem,"label-width":80}},[_c("FormItem",{attrs:{label:"手机号码"}},[_c("Input",{attrs:{maxlength:_vm.userBasic.length.maxMobile,placeholder:"请输入初始手机号码"},model:{value:_vm.userBasic.data.mobile,callback:function($$v){_vm.userBasic.data.mobile=$$v},expression:"userBasic.data.mobile"}})],1),_vm._v(" "),_c("FormItem",{attrs:{label:"初始密码"}},[_c("Input",{attrs:{type:"password",placeholder:"请设置该账户的初始密码"},model:{value:_vm.userBasic.data.password,callback:function($$v){_vm.userBasic.data.password=$$v},expression:"userBasic.data.password"}})],1),_vm._v(" "),_c("FormItem",{attrs:{label:"指定角色"}},[_c("Select",{attrs:{placeholder:"请选择该用户指定的角色"},model:{value:_vm.userBasic.data.type,callback:function($$v){_vm.userBasic.data.type=$$v},expression:"userBasic.data.type"}},[_c("Option",{attrs:{value:"2"}},[_vm._v("部门管理员")]),_vm._v(" "),_c("Option",{attrs:{value:"3"}},[_vm._v("专员")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});