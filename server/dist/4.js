webpackJsonp([4],{219:function(module,exports,__webpack_require__){var Component=__webpack_require__(21)(__webpack_require__(237),__webpack_require__(259),null,null);module.exports=Component.exports},228:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"pageHead",props:["title"]}},229:function(module,exports,__webpack_require__){var Component=__webpack_require__(21)(__webpack_require__(228),__webpack_require__(230),null,null);module.exports=Component.exports},230:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticStyle:{"margin-bottom":"20px"},attrs:{id:"pageHead"}},[_c("h1",{staticStyle:{padding:"10px 0"}},[_vm._v(_vm._s(_vm.title))]),_vm._v(" "),_c("hr")])},staticRenderFns:[]}},237:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _pageHead=__webpack_require__(229),_pageHead2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_pageHead);exports.default={name:"blogList",components:{PageHead:_pageHead2.default},data:function(){var _this2=this;return{params:{page:1,size:20},paging:{current:1,total:0},blogList:[],blogColumns:[{title:"文章标题",key:"blogTitle"},{title:"文章作者",key:"authorName"},{title:"文章分类",key:"blogType"},{title:"首次发表时间",key:"createdAt"},{title:"最近更新时间",key:"updatedAt"},{title:"总点击量",key:"blogPv"},{title:"操作",key:"action",render:function(h,params){return h("div",[h("Button",{props:{type:"primary",shape:"circle",icon:"search"},style:{marginRight:"5px"},on:{click:function(){_this2.show(params.index)}}},"查看"),h("Button",{props:{type:"primary",shape:"circle",icon:"edit"},style:{marginRight:"5px"},on:{click:function(){_this2.edit(params.index)}}},"编辑")])}}]}},methods:{getBlogList:function(){var _this=this;this.$Loading.start(),this.$ajax({method:"get",url:"/blog/list",params:_this.params}).then(function(res){if(0==res.data.code){var blogList=res.data.data.blogList;res.data.data.blogList.map(function(blog){blog.authorName=blog.author.name}),_this.blogList=blogList,_this.paging.current=res.data.data.current,_this.paging.total=res.data.data.total,_this.$Loading.finish()}else _this.$Message.error(res.data.message),_this.$Loading.error()}).catch(function(){_this.$Message.error("小Mo开小差去了，请稍后再试~"),_this.$Loading.error()})},addBlog:function(){window.location.href="/#/blogList/addBlog"},changePage:function(page){this.params.page=page,this.getBlogList()},edit:function(){},show:function(index){var id=this.blogList[index]._id;this.$router.push("/blogList/showBlog/"+id)}},created:function(){this.getBlogList()}}},259:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{attrs:{id:"blogList"}},[_c("PageHead",{attrs:{title:"文章列表"}}),_vm._v(" "),_c("div",{staticClass:"page-header"},[_c("Button",{attrs:{type:"primary",size:"large",icon:"ios-plus-outline"},on:{click:_vm.addBlog}},[_vm._v("添加新文章")])],1),_vm._v(" "),_c("div",{staticClass:"page-table"},[_c("Table",{attrs:{border:"",columns:_vm.blogColumns,data:_vm.blogList}}),_vm._v(" "),_c("Page",{staticStyle:{margin:"20px 0"},attrs:{total:_vm.paging.total,current:_vm.paging.current,"page-size":_vm.params.size},on:{"on-change":_vm.changePage}})],1)],1)},staticRenderFns:[]}}});